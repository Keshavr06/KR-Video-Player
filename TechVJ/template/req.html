<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🎥 KR Streaming | {{file_name}}</title>
  <link rel="shortcut icon" href="https://i.ibb.co/qJyZWCv/20230629-081948-0000.png" type="image/x-icon">
  <meta property="og:image" content="https://i.ibb.co/qJyZWCv/20230629-081948-0000.png">
  <link rel="stylesheet" href="https://cdn.plyr.io/3.6.12/plyr.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://kit.fontawesome.com/a2d9d6c1ef.js" crossorigin="anonymous"></script>
  <style>
    .zoomed-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 9999;
      background-color: black;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .zoomed-video {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .btn-glow {
      transition: all 0.3s ease-in-out;
    }
    .btn-glow:hover {
      box-shadow: 0 0 10px #fff;
      transform: scale(1.05);
    }
  </style>
</head>
<body class="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen">
  <header class="p-6 bg-gradient-to-r from-purple-600 to-pink-500 text-center shadow-lg">
    <h1 class="text-4xl font-extrabold tracking-tight animate__animated animate__fadeInDown">🎥 KR Streaming</h1>
  </header>

  <main class="container mx-auto px-4 py-8">
    <div id="loading" class="flex justify-center items-center mb-8">
      <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-purple-500"></div>
    </div>

    <div id="videoContainer" class="hidden">
      <video id="player" class="player w-full rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 cursor-pointer" playsinline controls>
        {% if file_url %}<source src="{{file_url}}" type="video/mp4" label="1080p" size="1080">{% endif %}
        {% if file_url_two %}<source src="{{file_url_two}}" type="video/mp4" label="720p" size="720">{% endif %}
        {% if file_url_three %}<source src="{{file_url_three}}" type="video/mp4" label="480p" size="480">{% endif %}
        Your browser does not support the video tag.
      </video>
    </div>

    <div class="text-center mt-6 animate__animated animate__fadeIn">
      <p class="text-lg font-semibold">📄 <strong>Name:</strong> {{file_name}}</p>
      <p class="text-md text-gray-300">📈 <strong>Size:</strong> {{file_size}}</p>
    </div>
    <script type='text/javascript' src='//pl27081871.profitableratecpm.com/c0/79/25/c079259188bb9fbf9ce2bb824b4aaccc.js'></script>

    <div class="text-center mt-6">
      <a href="{{link}}" target="_blank" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full inline-block btn-glow">📢 Join Telegram Channel</a>
    </div>

    <div class="action-buttons text-center space-y-4 mt-8 animate__animated animate__fadeInUp">
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 justify-center">
        <button class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-full btn-glow" onclick="vlc_player()">🎥 VLC</button>
        <button class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-full btn-glow" onclick="mx_player()">📹 MX</button>
        <button class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-full btn-glow" onclick="playit_player()">🕹️ PlayIt</button>
        <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full btn-glow" onclick="Download()">💾 Download</button>
        <button class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-full btn-glow" onclick="copy_url()">📃 Copy URL</button>
        <button class="bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-full btn-glow" onclick="shareButton()">📣 Share</button>
      </div>
    </div>
    <script type='text/javascript' src='//pl27081871.profitableratecpm.com/c0/79/25/c079259188bb9fbf9ce2bb824b4aaccc.js'></script>

    <div class="text-center text-sm text-yellow-300 mt-8 animate__animated animate__fadeIn">
      🚧 Having issues? Try a different browser that supports modern video formats.
    </div>

    <div class="text-center text-xs text-gray-400 px-4 mt-4 animate__animated animate__fadeIn">
      ⚠️ Disclaimer: KR STREAMING does not host or store any video content. All content is provided by third parties.
    </div>
    <script type='text/javascript' src='//pl27081769.profitableratecpm.com/0b/6a/c3/0b6ac3e7a114b7330a033ce4ebcf4f76.js'></script>
  </main>

  <footer class="bg-gradient-to-r from-purple-600 to-pink-500 text-white text-center py-4 mt-10">
    © <script>document.write(new Date().getFullYear());</script> KR STREAMING. All rights reserved.
  </footer>

  <script src="https://cdn.plyr.io/3.6.12/plyr.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const player = new Plyr('#player', {
        controls: [
          'play-large', 'rewind', 'play', 'fast-forward', 'progress',
          'current-time', 'duration', 'mute', 'volume', 'captions',
          'settings', 'pip', 'airplay', 'fullscreen'
        ],
        settings: ['quality', 'speed'],
        quality: {
          default: 1080,
          options: [1080, 720, 480],
          forced: true,
          onChange: quality => console.log(`Quality changed to: ${quality}`)
        }
      });

      setTimeout(() => {
        document.getElementById('loading').style.display = 'none';
        document.getElementById('videoContainer').classList.remove('hidden');
      }, 1500);

      const video = document.getElementById('player');
      video.addEventListener('click', () => {
        const isZoomed = document.querySelector('.zoomed-container');
        if (!isZoomed) {
          const zoomDiv = document.createElement('div');
          zoomDiv.className = 'zoomed-container';

          const clone = video.cloneNode(true);
          clone.classList.add('zoomed-video');
          clone.autoplay = true;
          zoomDiv.appendChild(clone);

          zoomDiv.addEventListener('click', () => zoomDiv.remove());
          document.body.appendChild(zoomDiv);
        }
      });
    });
  </script>

  <script>
    document.addEventListener("contextmenu", e => e.preventDefault());
    document.addEventListener('keydown', function (e) {
      if (
        e.key === 'F12' ||
        (e.ctrlKey && e.shiftKey && e.key === 'I') ||
        (e.ctrlKey && e.key.toLowerCase() === 'u') ||
        e.ctrlKey || e.shiftKey || e.altKey
      ) {
        e.preventDefault();
      }
    });
  </script>

</body>
</html>
